{"version":3,"sources":["App.js","index.js"],"names":["App","useState","radAlt","setRadAlt","hoistOutLength","setHoistOutLength","gameConnected","setGameConnected","useEffect","timeoutId","setTimeout","fetchData","fetch","then","result","status","Error","json","data","console","log","catch","clearTimeout","className","style","padding","fontSize","type","minWidth","minHeight","onClick","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"oMAyDeA,MAtDf,WACI,MAA4BC,mBAAS,KAArC,mBAAOC,EAAP,KAAeC,EAAf,KACA,EAA4CF,mBAAS,GAArD,mBAAOG,EAAP,KAAuBC,EAAvB,KACA,EAA0CJ,oBAAS,GAAnD,mBAAOK,EAAP,KAAsBC,EAAtB,KAwBA,OAtBAC,qBAAW,WACP,IAAIC,EAAY,KAkBhB,OAFAA,EAAUC,YAfQ,SAAZC,IACFC,MAAM,gCAAgCC,MAAK,SAAAC,GACvC,GAAoB,MAAhBA,EAAOC,OAAc,MAAMC,MAAM,mBACrC,OAAOF,EAAOG,UACfJ,MAAK,SAAAK,GACJX,GAAkB,GAClBJ,GAAW,kBAAoB,MAAde,EAAKhB,OAAa,OAAmB,EAAZgB,EAAKhB,UAC/CG,GAAmB,kBAAMa,EAAKd,kBAC9Be,QAAQC,IAAIF,GACZT,EAAUC,WAAYC,EAAW,QAClCU,OAAO,WACNd,GAAkB,GAClBE,EAAUC,WAAYC,EAAW,UAGR,KAE1B,kBAAMW,aAAab,MAC3B,IAGC,sBAAKc,UAAU,MAAf,UACI,wBAAQA,UAAU,aAAlB,iCAIIjB,EACI,qCACI,sBAAKkB,MAAO,CAACC,QAAQ,OAAQC,SAAU,QAAvC,sBACcxB,EADd,SAGA,sBAAKsB,MAAO,CAACC,QAAQ,OAAQC,SAAU,QAAvC,+BACuBtB,EADvB,SAIA,wBAAQuB,KAAK,SAASH,MAAO,CAACI,SAAS,QAASC,UAAU,OAAQH,SAAS,QAASI,QAAS,WACzFlB,MAAM,iCAAiCC,MAAK,gBADhD,4BAKJ,yDC7CpBkB,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,U","file":"static/js/main.cc05f59c.chunk.js","sourcesContent":["import './App.css';\nimport { useEffect, useState } from 'react';\n\nfunction App() {\n    const [radAlt, setRadAlt] = useState(255);\n    const [hoistOutLength, setHoistOutLength] = useState(0);\n    const [gameConnected, setGameConnected] = useState(true);\n\n    useEffect( () => {\n        let timeoutId = null;\n        const fetchData = () => {\n            fetch('http://192.168.1.5:3000/data').then(result => {\n                if (result.status!==200) throw Error(\"bad status code\");\n                return result.json();\n            }).then(data=>{\n                setGameConnected( true );\n                setRadAlt( () => data.radAlt===255?'inop':data.radAlt*2 );\n                setHoistOutLength( () => data.hoistOutLength );\n                console.log(data);\n                timeoutId=setTimeout( fetchData, 500);//game is connected to request faster\n            }).catch( ()=>{\n                setGameConnected( false );\n                timeoutId=setTimeout( fetchData, 1000);//game is not connected so wait a little before reattempting\n            });\n        }\n        timeoutId=setTimeout( fetchData, 1000);\n\n        return () => clearTimeout(timeoutId);\n    }, []);\n\n    return (\n        <div className=\"App\">\n            <header className=\"App-header\">\n                VR Hoist Demo WebUI\n            </header>\n            {\n                gameConnected ?\n                    <>\n                        <div style={{padding:'10px', fontSize: '24px'}}>\n                            Rad alt: {radAlt} ft\n                        </div>\n                        <div style={{padding:'10px', fontSize: '24px'}}>\n                            Hoist out length: {hoistOutLength} ft\n                        </div>\n                        \n                        <button type='button' style={{minWidth:'100px', minHeight:'30px', fontSize:'24px'}} onClick={()=>{\n                            fetch('http://192.168.1.5:3000/reset').then(()=>{});\n                        }}>Reset Level</button>\n                    </>\n                :\n                    <div>Game not connected</div>\n            }\n\n        </div>\n    );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}